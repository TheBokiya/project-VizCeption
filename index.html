<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>D3 Test</title>
    <script type="text/javascript" src="js/d3.min.js"></script>
    <script type="text/javascript" src="js/bar.js"></script>
    <script type="text/javascript" src="js/csv.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>
    <div class="menu">
        <!-- <button id="bar-graph" value="Bar Graph">Bar Graph</button> -->
        <button id="node-graph" value="Node Graph">Load Graph</button>
        <select id="provenance-type">
            <option value="progress-view">Progress View</option>
            <option value="history-view">History View</option>
        </select>
        <button id="save-state" value="Save State">Save State</button>
        <input id="automatic-progress" type="checkbox" name="automatic">Automatically Save State</input>
        <button id="new-branch" value="New Branch">New Branch</button>
    </div>
    <svg id="canvas">
    </svg>
    <svg id="progress"></svg>
    <div id="history-view"></div>
    <script type="text/javascript">
    $('#automatic-progress').prop('checked', false);

    $('#provenance-type').change(function(e){
        console.log($('#provenance-type').val());
        if ($('#provenance-type').val() === 'progress-view') {
            $('#history-view').hide();
            $('#progress').show();
        } else {
            $('#progress').hide();
            $('#history-view').show();
        }
    });

    d3.select("#bar-graph").on("click", function(d, i) {
        d3.select("#canvas").selectAll("*").remove();
        dataset_csv();
    });

    d3.select("#node-graph").on("click", function(d, i) {
        d3.select("#canvas").selectAll("*").remove();
        nodeGraph();
    });

    d3.select("#save-state").on("click", function(d, i) {
        saveState();
    });

    d3.select("#new-branch").on("click", function(d, i){
        newBranch();
    });
    </script>
</body>

</html>
